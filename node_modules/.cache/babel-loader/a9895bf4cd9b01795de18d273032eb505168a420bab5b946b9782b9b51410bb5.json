{"ast":null,"code":"var _jsxFileName = \"/Users/faisal/new-clicker-game/src/Authentication.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport AuthRenderer from \"./AuthRenderer\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Authentication extends React.Component {\n  constructor(_ref) {\n    let {\n      getGameInfo,\n      setGameInfo,\n      setLoggedIn\n    } = _ref;\n    super();\n    this.register = () => {\n      Axios.post(\"http://localhost:3001/create-user\", {\n        username: this.state.usernameReg,\n        password: this.state.passwordReg,\n        gameInfo: this.getGameInfo()\n      }).then(() => {\n        this.setLoggedIn();\n      });\n    };\n    this.saveInfo = () => {\n      if (!this.state.isLoggedIn) return;\n      Axios.post(\"http://localhost:3001/save-data\", {\n        username: this.state.usernameLogin,\n        password: this.state.passwordLogin,\n        gameInfo: this.getGameInfo()\n      }).then(() => console.log(\"Auto Save\", this.getGameInfo()));\n    };\n    this.login = () => {\n      Axios.post(\"http://localhost:3001/login\", {\n        username: this.state.usernameLogin,\n        password: this.state.passwordLogin\n      }).then(response => {\n        this.setState({\n          isLoggedIn: true\n        });\n        this.setLoggedIn();\n        this.setGameInfo(response.data);\n      });\n    };\n    this.getGameInfo = getGameInfo;\n    this.setGameInfo = setGameInfo;\n    this.setLoggedIn = setLoggedIn;\n    this.state = {\n      usernameReg: \"\",\n      passwordReg: \"\",\n      usernameLogin: \"\",\n      passwordLogin: \"\",\n      isLoggedIn: false\n    };\n  }\n  changeState(key, val) {\n    this.setState({\n      [key]: val\n    });\n  }\n  componentDidMount() {\n    this.interval = setInterval(this.saveInfo, 10000);\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: !this.state.isLoggedIn ? /*#__PURE__*/_jsxDEV(AuthRenderer, {\n        changeState: (key, val) => this.state.changeState(key, val),\n        register: this.register,\n        login: this.login\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this) : null\n    }, void 0, false);\n  }\n}\nexport default Authentication;","map":{"version":3,"names":["React","Axios","AuthRenderer","Authentication","Component","constructor","getGameInfo","setGameInfo","setLoggedIn","register","post","username","state","usernameReg","password","passwordReg","gameInfo","then","saveInfo","isLoggedIn","usernameLogin","passwordLogin","console","log","login","response","setState","data","changeState","key","val","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","render"],"sources":["/Users/faisal/new-clicker-game/src/Authentication.js"],"sourcesContent":["import React from \"react\";\nimport Axios from \"axios\";\nimport AuthRenderer from \"./AuthRenderer\";\n\nclass Authentication extends React.Component {\n\n  constructor({ getGameInfo, setGameInfo, setLoggedIn }) {\n    super()\n    this.getGameInfo = getGameInfo\n    this.setGameInfo = setGameInfo\n    this.setLoggedIn = setLoggedIn\n    this.state = {\n      usernameReg: \"\",\n      passwordReg: \"\",\n      usernameLogin: \"\",\n      passwordLogin: \"\",\n      isLoggedIn: false,\n    }\n  }\n\n  changeState(key,val) {\n    this.setState({ [key]: val});\n  }\n   \n   register = () => {\n    Axios.post(\"http://localhost:3001/create-user\", {\n      username: this.state.usernameReg,\n      password: this.state.passwordReg,\n      gameInfo: this.getGameInfo(),\n    }).then(() => {\n      this.setLoggedIn()\n    });\n\n  };\n\n   saveInfo = () => {\n    if(!this.state.isLoggedIn) return \n    Axios.post(\"http://localhost:3001/save-data\", {\n      username: this.state.usernameLogin,\n      password: this.state.passwordLogin,\n      gameInfo: this.getGameInfo(),\n    }).then(() => console.log(\"Auto Save\", this.getGameInfo()));\n  }\n\n   login = () => {\n    Axios.post(\"http://localhost:3001/login\", {\n      username: this.state.usernameLogin,\n      password: this.state.passwordLogin,\n    }).then((response) => {\n      this.setState({\n        isLoggedIn: true\n      })\n      this.setLoggedIn()\n      this.setGameInfo(response.data)}\n  )};\n\n      componentDidMount() {\n          this.interval = setInterval(this.saveInfo, 10000);\n       }\n       componentWillUnmount() {\n         clearInterval(this.interval);\n       }\n\n  render() {\n    return(\n    <>\n    { \n    !this.state.isLoggedIn ? \n    <AuthRenderer\n    changeState = {(key,val) => this.state.changeState(key,val)}\n    register= {this.register}\n    login={this.login}\n    />\n   \n    : null\n    }\n    </>\n  )}\n}\n\nexport default Authentication;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}