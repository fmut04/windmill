{"ast":null,"code":"var _jsxFileName = \"/Users/faisal/new-clicker-game/src/Wallet.js\";\nimport React from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Wallet extends React.Component {\n  constructor(props) {\n    super(props);\n    this.harvestResource = harvestAmount => {\n      if (!this.state.canHarvest) return;\n      // const harvestAmount = clickStrength ? clickStrength : this.props.dps;\n\n      harvestAmount ??= this.dps;\n      console.log(harvestAmount, this.dps);\n      this.updateMoney(harvestAmount);\n      this.setState({\n        currentResources: this.state.currentResources - harvestAmount\n      }, () => {\n        if (this.state.currentResources <= 1) {\n          this.handleResourceDepleted();\n        }\n      });\n    };\n    this.updateMoney = this.props.updateMoney;\n    this.resourcesMined = this.props.resourcesMined;\n    this.dps = this.props.dps;\n    this.hph = this.props.hph;\n    this.interval = undefined;\n    this.state = {\n      totalResources: (1 + this.props.resourcesMined) * 10,\n      currentResources: (1 + this.props.resourcesMined) * 10,\n      canHarvest: true,\n      shouldReset: false\n    };\n  }\n  handleResourceDepleted() {\n    this.setState({\n      currentResources: 0,\n      canHarvest: false,\n      totalResources: this.state.totalResources * 1.5\n    });\n    setTimeout(() => {\n      this.setState({\n        shouldReset: true\n      });\n    }, 500);\n  }\n  componentDidUpdate() {\n    if (this.state.shouldReset) {\n      this.setState({\n        currentResources: this.state.totalResources,\n        canHarvest: true,\n        shouldReset: false\n      });\n    }\n  }\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.harvestResource();\n    }, 1000);\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center-items\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"wallet\",\n          src: process.env.PUBLIC_URL + (this.state.currentResources > 0 ? \"/wallet/Wallet-0.png\" : \"/wallet/Wallet-1.png\"),\n          alt: \"broken img\",\n          style: {\n            width: `${10 * (this.state.currentResources / this.state.totalResources) + 10}rem`\n          },\n          onClick: () => {\n            this.harvestResource(this.hph);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: (this.state.currentResources / this.state.totalResources * 100).toFixed(0) + \"%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n}\nexport default Wallet;","map":{"version":3,"names":["React","Wallet","Component","constructor","props","harvestResource","harvestAmount","state","canHarvest","dps","console","log","updateMoney","setState","currentResources","handleResourceDepleted","resourcesMined","hph","interval","undefined","totalResources","shouldReset","setTimeout","componentDidUpdate","componentDidMount","setInterval","componentWillUnmount","clearInterval","render","process","env","PUBLIC_URL","width","toFixed"],"sources":["/Users/faisal/new-clicker-game/src/Wallet.js"],"sourcesContent":["import React from \"react\";\n\nclass Wallet extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.updateMoney = this.props.updateMoney\n    this.resourcesMined = this.props.resourcesMined\n    this.dps = this.props.dps\n    this.hph = this.props.hph\n    this.interval=undefined;\n    this.state = {\n      totalResources: (1 + this.props.resourcesMined) * 10,\n      currentResources: (1 + this.props.resourcesMined) * 10,\n      canHarvest: true,\n      shouldReset: false,\n    };\n  }\n\n  handleResourceDepleted() {\n    this.setState({\n      currentResources: 0,\n      canHarvest: false,\n      totalResources: this.state.totalResources * 1.5,\n    });\n    setTimeout(() => {\n      this.setState({ shouldReset: true });\n    }, 500);\n  }\n\n  harvestResource = (harvestAmount) => {\n    if (!this.state.canHarvest) return;\n    // const harvestAmount = clickStrength ? clickStrength : this.props.dps;\n    \n    harvestAmount ??= this.dps\n    console.log(harvestAmount, this.dps)\n    this.updateMoney(harvestAmount);\n    this.setState({\n       currentResources: this.state.currentResources - harvestAmount,\n    }, () => {\n      if (this.state.currentResources <= 1) {\n        this.handleResourceDepleted();\n      }\n    })\n  };\n\n  componentDidUpdate() {\n    if (this.state.shouldReset) {\n      this.setState({\n        currentResources: this.state.totalResources,\n        canHarvest: true,\n        shouldReset: false,\n      });\n    }\n  }\n\n  componentDidMount() {\n     this.interval = setInterval(() => {\n      this.harvestResource();\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"center-items\">\n          <img\n            id=\"wallet\"\n            src={\n              process.env.PUBLIC_URL +\n              (this.state.currentResources > 0\n                ? \"/wallet/Wallet-0.png\"\n                : \"/wallet/Wallet-1.png\")\n            }\n            alt=\"broken img\"\n            style={{\n              width: `${10 * (this.state.currentResources / this.state.totalResources) +\n                10}rem`,\n            }}\n            onClick={() => {\n              this.harvestResource(this.hph);\n            }}\n          ></img>\n          <h1>\n            {(\n              (this.state.currentResources / this.state.totalResources) *\n              100\n            ).toFixed(0) + \"%\"}\n          </h1>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Wallet;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}