{"ast":null,"code":"import _classCallCheck from\"/Users/faisal/new-clicker-game/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/faisal/new-clicker-game/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/faisal/new-clicker-game/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/faisal/new-clicker-game/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import ElectricityText from\"./ElectricityText\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WindMill=/*#__PURE__*/function(_React$Component){_inherits(WindMill,_React$Component);var _super=_createSuper(WindMill);function WindMill(props){var _this;_classCallCheck(this,WindMill);_this=_super.call(this,props);_this.accelerateFan=function(acceleration){var _acceleration;//if (!this.state.canHarvest) return;\n// If no harvest amount is passed in, that means it is an auto eps harvest \n// so the harvest amount is set to the eps\n(_acceleration=acceleration)!==null&&_acceleration!==void 0?_acceleration:acceleration=_this.props.eps/600;_this.setState({velocity:_this.state.velocity+_this.getAcceleration(acceleration)});};_this.updateWatts=_this.props.updateWatts;_this.resourcesMined=_this.props.resourcesMined;_this.interval=undefined;_this.state={totalResources:10,currentResources:10,canHarvest:true,shouldReset:false,velocity:0};return _this;}_createClass(WindMill,[{key:\"handleResourceDepleted\",value:function handleResourceDepleted(){var _this2=this;this.setState({currentResources:0,canHarvest:false,totalResources:this.state.totalResources*1.5});setTimeout(function(){_this2.setState({shouldReset:true});},500);}},{key:\"getAcceleration\",value:function getAcceleration(force){var constantDivisor=15;return force/constantDivisor;}},{key:\"getDeceleration\",value:function getDeceleration(velocity){if(velocity===0){return 0;}var deceleration=velocity*.001;return velocity-deceleration>=0?deceleration:velocity-deceleration;}},{key:\"acceleratedVelocity\",value:function acceleratedVelocity(speed){return this.state.velocity+speed;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.state.shouldReset){this.setState({currentResources:this.state.totalResources,canHarvest:true,shouldReset:false});}}},{key:\"getVelocity\",value:function getVelocity(obj){return obj.state.velocity;}},{key:\"rotateFan\",value:function rotateFan(fan){this.degree=0;this.timer=0;function rotate(degree,getVelocity,getDeceleration,obj,timer){fan.style.transform='rotate('+degree+'deg)';setTimeout(function(){timer++;if(timer>=75){if(obj.state.velocity>0){obj.updateWatts(obj.state.velocity/4);}timer=0;}degree+=getVelocity(obj);rotate(degree,getVelocity,getDeceleration,obj,timer);obj.setState({velocity:obj.state.velocity-getDeceleration(getVelocity(obj))+obj.getAcceleration(obj.props.eps/600)});},1);//lower this to increase speed \n}rotate(this.degree,this.getVelocity,this.getDeceleration,this,this.timer);}},{key:\"componentDidMount\",value:function componentDidMount(){//  this.interval = setInterval(() => {\n//   this.accelerateFan();\n// }, 1000);\nthis.rotateFan(document.getElementsByClassName('wind-mill-fan')[0],5);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);clearInterval(this.timer);}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"center-items\",id:\"wind-mill-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"wind-mill\",src:process.env.PUBLIC_URL+\"/icons/windmill.png\",alt:\"broken img\",style:{width:\"\".concat(15,\"rem\")},onClick:function onClick(){_this3.accelerateFan(_this3.props.clickPower);}}),/*#__PURE__*/_jsx(\"img\",{className:\"wind-mill-fan fan-rotate\",src:process.env.PUBLIC_URL+\"/icons/windmill-fan.png\",alt:\"broken img\",style:{width:\"\".concat(15,\"rem\")},onClick:function onClick(){_this3.accelerateFan(_this3.props.clickPower);}}),/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(ElectricityText,{text:this.state.velocity.toFixed(1),styles:{div:\"no-margin med-spacing\",text:\"right-aligned small-pad-left\",icon:\"med-electricity med-pad-left\"},endText:\"/s\"})})]})});}}]);return WindMill;}(React.Component);export default WindMill;","map":{"version":3,"names":["React","ElectricityText","WindMill","props","accelerateFan","acceleration","eps","setState","velocity","state","getAcceleration","updateWatts","resourcesMined","interval","undefined","totalResources","currentResources","canHarvest","shouldReset","setTimeout","force","constantDivisor","deceleration","speed","obj","fan","degree","timer","rotate","getVelocity","getDeceleration","style","transform","rotateFan","document","getElementsByClassName","clearInterval","process","env","PUBLIC_URL","width","clickPower","toFixed","div","text","icon","Component"],"sources":["/Users/faisal/new-clicker-game/src/WindMill.js"],"sourcesContent":["import React from \"react\";\nimport ElectricityText from \"./ElectricityText\";\n\nclass WindMill extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.updateWatts = this.props.updateWatts\n    this.resourcesMined = this.props.resourcesMined\n    this.interval=undefined;\n    this.state = {\n      totalResources: 10,\n      currentResources: 10,\n      canHarvest: true,\n      shouldReset: false,\n      velocity: 0,\n    };\n  }\n\n  handleResourceDepleted() {\n    this.setState({\n      currentResources: 0,\n      canHarvest: false,\n      totalResources: this.state.totalResources * 1.5,\n    });\n    setTimeout(() => {\n      this.setState({ shouldReset: true });\n    }, 500);\n  }\n\n  accelerateFan = (acceleration) => {\n    \n    //if (!this.state.canHarvest) return;\n    // If no harvest amount is passed in, that means it is an auto eps harvest \n    // so the harvest amount is set to the eps\n    acceleration ??= this.props.eps/600\n    this.setState({\n        velocity: this.state.velocity + this.getAcceleration(acceleration) \n    })\n  };\n\n  getAcceleration(force) {\n    let constantDivisor = 15\n    return force/constantDivisor\n  }\n\n  getDeceleration(velocity) {\n    if(velocity===0) {return 0}\n    let deceleration = velocity*.001\n    return velocity-deceleration>=0 ? deceleration: velocity-deceleration\n  }\n\n  acceleratedVelocity(speed) {\n    return this.state.velocity + speed\n  }\n\n  componentDidUpdate() {\n    if (this.state.shouldReset) {\n      this.setState({\n        currentResources: this.state.totalResources,\n        canHarvest: true,\n        shouldReset: false,\n      });\n    }\n  }\n\n   getVelocity(obj) {\n    return obj.state.velocity\n  }\n\n  rotateFan(fan) {  \n    this.degree = 0;\n    this.timer=0\n      function rotate(degree, getVelocity, getDeceleration, obj, timer) {\n      fan.style.transform = 'rotate(' + degree + 'deg)'\n       setTimeout(() => {\n          timer++\n          if(timer>=75) {\n            if(obj.state.velocity>0) {\n            obj.updateWatts(obj.state.velocity/4)\n            }\n            timer=0\n          }\n          degree+=getVelocity(obj);\n          rotate(degree, getVelocity, getDeceleration, obj, timer);\n          obj.setState({\n            velocity: obj.state.velocity - getDeceleration(getVelocity(obj)) + obj.getAcceleration(obj.props.eps/600),\n          })\n      },1); //lower this to increase speed \n  }\n  rotate(this.degree, this.getVelocity, this.getDeceleration, this, this.timer)\n}\n\n  componentDidMount() {\n    //  this.interval = setInterval(() => {\n    //   this.accelerateFan();\n    // }, 1000);\n    this.rotateFan(document.getElementsByClassName('wind-mill-fan')[0],5)\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n    clearInterval(this.timer)\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"center-items\" id=\"wind-mill-container\">\n          <img\n            className=\"wind-mill\"\n            src={\n              process.env.PUBLIC_URL +\n             \"/icons/windmill.png\"\n            }\n            alt=\"broken img\"\n            style={{\n              width: `${15}rem`,\n            }}\n            onClick={() => {\n              this.accelerateFan(this.props.clickPower);\n            }}\n          ></img>\n             <img\n            className=\"wind-mill-fan fan-rotate\"\n            src={\n              process.env.PUBLIC_URL +\n             \"/icons/windmill-fan.png\"\n            }\n            alt=\"broken img\"\n            style={{\n              width: `${15}rem`,\n            }}\n            onClick={() => {\n              this.accelerateFan(this.props.clickPower);\n            }}\n          ></img>\n          <h1>\n          <ElectricityText\n          text = {this.state.velocity.toFixed(1)}\n          styles = {{div: \"no-margin med-spacing\", text: \"right-aligned small-pad-left\", icon: \"med-electricity med-pad-left\"}}\n          endText = {\"/s\"}\n          />\n            {/* {(\n              this.state.velocity\n            ).toFixed(1) + \" m/s\"} */}\n          </h1>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default WindMill;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}